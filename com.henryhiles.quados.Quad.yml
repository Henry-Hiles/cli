id: com.henryhiles.quados.Quad
sdk: org.freedesktop.Sdk
sdk-extensions:
    - org.freedesktop.Sdk.Extension.node20
runtime: org.freedesktop.Platform
runtime-version: "23.08"
finish-args:
    - --talk-name=org.freedesktop.Flatpak
    - --filesystem=~/.config/quados
    - --filesystem=~/.local/bin

command: quad
modules:
    - name: quad
      sources:
          - type: file
            url: https://github.com/Quad-Linux/cli/releases/download/v0.1.0/out.js
            sha256: 5b43f3e779437752da284d17b07b49fb8f93362083836ec85365c47f1710ca06
            dest-filename: quad
          - type: file
            url: https://github.com/pnpm/pnpm/releases/download/v8.14.0/pnpm-linux-x64
            sha256: 92b2da9a8b2c669ae3741a52dde8f8b694330dbd4cf49bfb331f2454e98556fb
            dest-filename: pnpm
      buildsystem: simple
      build-commands:
          - install -D /usr/lib/sdk/node20/bin/node /app/bin/node
          - install -D pnpm /app/bin/pnpm
          - install -D quad /app/bin/quad
