id: com.henryhiles.quados.Quad
sdk: org.freedesktop.Sdk
sdk-extensions:
    - org.freedesktop.Sdk.Extension.node20
runtime: org.freedesktop.Platform
runtime-version: "23.08"
finish-args:
    - --talk-name=org.freedesktop.Flatpak
    - --filesystem=~/.config/quados

command: quad
modules:
    - name: quad
      sources:
          - type: file
            url: https://github.com/Quad-Linux/cli/releases/download/v0.1.0/out.js
            sha256: 1e145b04c8eb39bf03601ec4cca9cadcfbaa1d224f55290b87178979788f3273
            dest-filename: out.js
      buildsystem: simple
      build-commands:
          - /usr/lib/sdk/node20/install.sh
          - sed '1i \#!/app/node/bin/node' out.js > quad
          - install -D quad /app/bin/quad
