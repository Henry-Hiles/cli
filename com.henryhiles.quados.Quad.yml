id: com.henryhiles.quados.Quad
sdk: org.freedesktop.Sdk
sdk-extensions:
    - org.freedesktop.Sdk.Extension.node20
runtime: org.freedesktop.Platform
runtime-version: "23.08"
finish-args:
    - --talk-name=org.freedesktop.Flatpak
    - --filesystem=~/.config/quados:w

command: quad
modules:
    - name: quad
      sources:
          - type: file
            url: https://github.com/Quad-Linux/cli/releases/download/v0.1.0/out.js
            sha256: 3fd1191deb416b5297cc8bc5d254528fdba3f27e10d1f4319258b928fd3c091e
            dest-filename: out.js
      buildsystem: simple
      build-commands:
          - /usr/lib/sdk/node20/install.sh
          - sed '1i \#!/app/node/bin/node' out.js > quad
          - install -D quad /app/bin/quad
